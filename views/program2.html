<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Programa 2</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Agrega estilos personalizados aquí si es necesario */
    </style>
</head>
<body>
    <div class="container mt-4">
        <h2 class="mb-4">Calculos en Tiempo de Ejecucion y Frecuencia</h2>
        <form id="tablaForm">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="que-desea-calcular" class="form-label">¿Qué desea calcular?</label>
                    <select class="form-select" id="que-desea-calcular">
                        <option value="tiempoejecucion">Tiempo de Ejecución</option>
                        <option value="frecuencia">Frecuencia</option>
                    </select>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="instrucciones" class="form-label">Instrucciones (separadas por comas)</label>
                    <input type="text" class="form-control" id="instrucciones" placeholder="A, B, C, D, E">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="ciclos" class="form-label">Ciclos (separados por comas)</label>
                    <input type="text" class="form-control" id="ciclos" placeholder="7, 20, 5, 100, 100">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="veces" class="form-label">Veces que se repite (separadas por comas)</label>
                    <input type="text" class="form-control" id="veces" placeholder="1000, 100, 1000, 10, 5">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="frecuencia" class="form-label">Frecuencia</label>
                    <select class="form-select" id="frecuencia-unidad">
                        <option value="megahertz">Megahertz</option>
                        <option value="kilohertz">Kilohertz</option>
                    </select>
                    <input type="number" class="form-control mt-2" id="frecuencia" placeholder="2.4">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="tiempo-ejecucion" class="form-label">Tiempo de Ejecución</label>
                    <select class="form-select" id="tiempo-ejecucion-unidad">
                        <option value="segundos">Segundos</option>
                        <option value="nanosegundos">Nanosegundos</option>
                        <option value="milisegundos">Milisegundos</option>
                    </select>
                    <input type="number" class="form-control mt-2" id="tiempo-ejecucion" placeholder="Tiempo de Ejecución">
                </div>
            </div>
            <button type="button" class="btn btn-primary" onclick="generarTabla()">Generar Tabla</button>
        </form>
        
        <div id="tablaResultado" class="mt-4"></div>
    </div>

    <script>
        function generarTabla() {
            // Obtener los valores ingresados por el usuario
            const instrucciones = document.getElementById('instrucciones').value.split(',').map(item => item.trim());
            const ciclos = document.getElementById('ciclos').value.split(',').map(item => item.trim());
            const veces = document.getElementById('veces').value.split(',').map(item => item.trim());
            let frecuencia = parseFloat(document.getElementById('frecuencia').value);
            let tiempoEjecucion = parseFloat(document.getElementById('tiempo-ejecucion').value);

            // Obtener la opción seleccionada
            const opcionSeleccionada = document.getElementById('que-desea-calcular').value;

            // Obtener las unidades seleccionadas
            const frecuenciaUnidad = document.getElementById('frecuencia-unidad').value;
            const tiempoEjecucionUnidad = document.getElementById('tiempo-ejecucion-unidad').value;

            // Calcular los ciclos totales
            let ciclosTotales = 0;
            for (let i = 0; i < ciclos.length; i++) {
                ciclosTotales += parseInt(ciclos[i]) * parseInt(veces[i]);
            }

            // Convertir la frecuencia a megahertz si es kilohertz
            if (frecuenciaUnidad === 'kilohertz') {
                frecuencia /= 1000;
            }
            

            // Convertir el tiempo de ejecución a segundos si es nanosegundos
            if (tiempoEjecucionUnidad === 'nanosegundos') {
                tiempoEjecucion /= 1000000000;
            }

            // Convertir el tiempo de ejecución a segundos si es milisegundos
            if (tiempoEjecucionUnidad === 'milisegundos') {
                tiempoEjecucion = tiempoEjecucion / 1000;
            }


            // Calcular el tiempo de ejecución o la frecuencia según la opción seleccionada
            //pasar de microsegundos a segundos y de segundos a nanosegundos
            let resultado;
            let tiempoejecucionnano=0;
            let tiempoejecucionseg=0;
            if (opcionSeleccionada === 'tiempoejecucion') {
                resultado = ciclosTotales / frecuencia;
                tiempoejecucionseg=resultado * 1e-6; //segundos
                tiempoejecucionnano = tiempoejecucionseg * 1e+9; //nanosegundos
            } else if (opcionSeleccionada === 'frecuencia') {
                resultado = ciclosTotales / tiempoEjecucion;
                tiempoejecucionnano = tiempoEjecucion * 1e+9; //nanosegundos
            }

            // Construir la tabla HTML
            let tablaHTML = `
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Instrucciones</th>
                                <th>Ciclos</th>
                                <th>Veces que se repite</th>
                            </tr>
                        </thead>
                        <tbody>
            `;
            for (let i = 0; i < instrucciones.length; i++) {
                tablaHTML += `
                    <tr>
                        <td>${instrucciones[i]}</td>
                        <td>${ciclos[i]}</td>
                        <td>${veces[i]}</td>
                    </tr>
                `;
            }
            tablaHTML += `
                        </tbody>
                    </table>
                </div>
            `;

            // Mostrar la tabla en el área de resultado
            document.getElementById('tablaResultado').innerHTML = tablaHTML;

            // Mostrar los ciclos totales
            document.getElementById('tablaResultado').insertAdjacentHTML('beforeend', `<p>Ciclos Totales: ${ciclosTotales}</p>`);
               // Mostrar el tiempo de ejecucion en nanosegundos 
               document.getElementById('tablaResultado').insertAdjacentHTML('beforeend', `<p>Tiempo nanoSegundos: ${tiempoejecucionnano.toFixed(2)}</p>`);
            // Mostrar el resultado (tiempo de ejecución o frecuencia)
            const unidad = opcionSeleccionada === 'tiempoejecucion' ? 'microSegundos' : 'MHZ';
            document.getElementById('tablaResultado').insertAdjacentHTML('beforeend', `<p>Resultado: ${resultado.toFixed(2)} ${unidad}</p>`);
        }
    </script>
</body>
</html>
